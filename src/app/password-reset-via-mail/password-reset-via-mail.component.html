<div class="row">
    <div class="password-reset-panel my-5 col-sm-6 offset-sm-3 text-center">
      <div class="row">
        <div class="col-sm-8 my-4 offset-sm-2 text-center">
          <div *ngIf="!this.done; then showMailInput else showSuccess"></div>
          <ng-template #showMailInput>
            <h2>Please enter the desired password</h2>
            <br>
            <form [formGroup]="resetPasswordForm" (ngSubmit)="onSubmit(resetPasswordForm.value.password)" class="form-inlin justify-content-center">
              <input type="password" class="form-control" name="password" formControlName="password" placeholder="New password" required #password>
              <input type="password" class="form-control" formControlName="confirmPassword" placeholder="Confirm password" pattern="{{password.value}}" #confirmPassword required>
              <div *ngIf="password.validity.valueMissing" class="alert-danger">Please enter the password you'd like to set.</div>
              <div *ngIf="confirmPassword.validity.patternMismatch" class="alert-danger">Passwords do not match.</div>
              <div *ngIf="confirmPassword.validity.valueMissing" class="alert-danger">Please confirm the password.</div>
              <div *ngIf="!await; else showAwaitMsg">
                <button type="submit" class="btn btn-primary">Send</button>
              </div>
              <ng-template #showAwaitMsg>
                Processing...
              </ng-template>
            </form>
          </ng-template>
          <ng-template #showSuccess>
            <h2>Success!</h2>
            <br>
            Your password has been successfully updated! You may now use this new password to log into SmartCity.
          </ng-template>
        </div>
      </div>
    </div>
  </div>